<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>QUANTUM PIXEL - Encode Image</title>
        <link rel="stylesheet" href="/static/styles.css">
    </head>
    <body>
        <main class="container">
            <h1>Encoding Image</h1>

            {% if error %}
                <div class="error">
                    <p>{{ error }}</p>
                    <p><a href="/">Return to Home</a></p>
                </div>
            {% endif %}

            <div class="preview">
                <img id="uploaded-image" src="/static/images/{{ filename }}" alt="uploaded image">
            </div>
            
            <section id="options-panel" class="options-panel">
                <h3>Options</h3>
                <p class="muted">Choose one operation to apply to the uploaded image.</p>
                <div class="tabs">
                    <div id="tabs-headers" role="tablist">
                        <button class="tab-btn active" role="tab" data-target="panel_preview">Create Preview</button>
                        <button class="tab-btn" role="tab" data-target="panel_steganography">Steganography</button>
                    </div>
                    <div id="tabs-panels" class="tabs-panels">
                        <div id="panel_preview" class="tab-panel" role="tabpanel">
                            <div class="option-desc">Create preview image with built-in functions.</div>
                            <form class="panel-controls" enctype="multipart/form-data">
                                <div>
                                    <label>Intensity</label>
                                    <input name="intensity" type="number" min="0" max="1" step="0.01" placeholder="(decimal from 0 to 1)" required/>
                                </div>
                                <button id="apply-btn" class="actions primary">Apply</button>
                            </form>
                            <div id="result">{{ preview | safe }}</div>
                        </div>
                        <div id="panel_steganography" class="tab-panel" role="tabpanel", style="display:none;">
                            <div class="option-desc">Encode the real image data within the disguise image.</div>
                            <form class="panel-controls" enctype="multipart/form-data">
                                <div>
                                    <label>Disguise Image</label>
                                    <input name="disguise" type="file" accept="image/*" required/>
                                </div>
                                <button id="apply-btn" class="actions primary">Apply</button>
                            </form>
                            <div id="result">{{ steganography | safe }}</div>
                        </div>
                    </div>
                </div>
            </section> 
        </main>
    </body>
    <script src="/static/encode.js"></script>
</html>
